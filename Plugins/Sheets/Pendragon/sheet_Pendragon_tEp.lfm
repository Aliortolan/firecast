<?xml version="1.0" encoding="UTF-8"?>
<form name="frmTeP" align="client" onShow="if (sheet ~= nil) then CalcularVirtude('virtude'); end;">
	<script>
	<![CDATA[
		function CalcularVirtude(a)
			-- TRATANDO VARIÁVEIS
			a = a or "";
			CalibrarVirtudes(a);
			
			-- CAPTANDO SOMA DE BÔNUS
			local SomaRom = CalcularRomance();
			local SomaReligiao = SomarVirtudes();
			local SomaHonra = (tonumber(sheet.fldValEnergia) or 0) + (tonumber(sheet.fldValGenerosidade) or 0) + (tonumber(sheet.fldValJustica) or 0);
			SomaHonra = SomaHonra + (tonumber(sheet.fldValMisericordia) or 0) + (tonumber(sheet.fldValModestia) or 0) + (tonumber(sheet.fldValCoragem) or 0);
			
			-- APLICANDO RESULTADO NA FICHA
			sheet.fldSomaHonra = string.format("%02d", SomaHonra);
			sheet.fldSomaReligiao = string.format("%02d", SomaReligiao);
			sheet.fldSomaRomance = string.format("%02d", SomaRom);
			
			-- ALTERNANDO VISIBILIDADE DAS FLAGS DOS BÔNUS
			self.flagRom.visible = SomaRom > 3;
			self.flagHonra.visible = SomaHonra > 79;
			self.flagReli.visible = SomaReligiao > 79;
		end;
		
		function CalcularRomance()
			-- INICIALIZANDO VARIÁVEIS
			local node = NDB.getRoot(sheet);
			local somaRoman = 0;
			
			-- CHECANDO QUANTAS VIRTUDES ACIMA DE 15
			if(tonumber(sheet.fldValCastidade) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValEnergia) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValPerdao) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValGenerosidade) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValHonestidade) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValJustica) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValMisericordia) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValModestia) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValEspiritualidade) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValPrudencia) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValTemperanca) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValConfianca) > 15) then somaRoman = somaRoman + 1; end;
			if(tonumber(sheet.fldValCoragem) > 15) then somaRoman = somaRoman + 1; end;
			
			-- SOMANDO QUANTAS PAIXÕES ACIMA DE 15
			somaRoman = somaRoman + node.countRom;
			
			-- LIMITANDO NÚMERO DE VIRTUDES E PAIXÕES ACIMA DE 15 PARA 3
			if(somaRoman > 3) then somaRoman = 3; end;
			
			-- CHECANDO SE ALGUM VÍCIO ACIMA DE 15
			if(tonumber(sheet.fldValCastidade) < 5
			or tonumber(sheet.fldValEnergia) < 5 
			or tonumber(sheet.fldValPerdao) < 5 
			or tonumber(sheet.fldValGenerosidade) < 5 
			or tonumber(sheet.fldValHonestidade) < 5 
			or tonumber(sheet.fldValJustica) < 5 
			or tonumber(sheet.fldValMisericordia) < 5 
			or tonumber(sheet.fldValModestia) < 5 
			or tonumber(sheet.fldValEspiritualidade) < 5 
			or tonumber(sheet.fldValPrudencia) < 5 
			or tonumber(sheet.fldValTemperanca) < 5 
			or tonumber(sheet.fldValConfianca) < 5 
			or tonumber(sheet.fldValCoragem) < 5) then 
				somaRoman = somaRoman + 1; 
			end;
			
			return somaRoman;
		end;
		
		function SomarVirtudes()
			-- INICIALIZANDO VARIÁVEIS
			local tbReligiao = {};
			local a = 0;
			
			-- ADICIONANDO VIRTUDES MARCADAS COMO RELIGIOSAS
			if(sheet.fldChCastidade == true) then table.insert(tbReligiao, sheet.fldValCastidade); end;
			if(sheet.fldChEnergia == true) then table.insert(tbReligiao, sheet.fldValEnergia); end;
			if(sheet.fldChPerdao == true) then table.insert(tbReligiao, sheet.fldValPerdao); end;
			if(sheet.fldChGenerosidade == true) then table.insert(tbReligiao, sheet.fldValGenerosidade); end;
			if(sheet.fldChHonestidade == true) then table.insert(tbReligiao, sheet.fldValHonestidade); end;
			if(sheet.fldChJustica == true) then table.insert(tbReligiao, sheet.fldValJustica); end;
			if(sheet.fldChMisericordia == true) then table.insert(tbReligiao, sheet.fldValMisericordia); end;
			if(sheet.fldChModestia == true) then table.insert(tbReligiao, sheet.fldValModestia); end;
			if(sheet.fldChEspiritualidade == true) then table.insert(tbReligiao, sheet.fldValEspiritualidade); end;
			if(sheet.fldChPrudencia == true) then table.insert(tbReligiao, sheet.fldValPrudencia); end;
			if(sheet.fldChTemperanca == true) then table.insert(tbReligiao, sheet.fldValTemperanca); end;
			if(sheet.fldChConfianca == true) then table.insert(tbReligiao, sheet.fldValConfianca); end;
			if(sheet.fldChCoragem == true) then table.insert(tbReligiao, sheet.fldValCoragem); end;
			
			-- ADICIONANDO VÍCIOS MARCADOS COMO RELIGIOSOS
			if(sheet.fldChLuxuria == true) then table.insert(tbReligiao, sheet.fldValLuxuria); end;
			if(sheet.fldChPreguica == true) then table.insert(tbReligiao, sheet.fldValPreguica); end;
			if(sheet.fldChVinganca == true) then table.insert(tbReligiao, sheet.fldValVinganca); end;
			if(sheet.fldChEgoismo == true) then table.insert(tbReligiao, sheet.fldValEgoismo); end;
			if(sheet.fldChMalicia == true) then table.insert(tbReligiao, sheet.fldValMalicia); end;
			if(sheet.fldChArbitrariedade == true) then table.insert(tbReligiao, sheet.fldValArbitrariedade); end;
			if(sheet.fldChCrueldade == true) then table.insert(tbReligiao, sheet.fldValCrueldade); end;
			if(sheet.fldChOrgulho == true) then table.insert(tbReligiao, sheet.fldValOrgulho); end;
			if(sheet.fldChCinismo == true) then table.insert(tbReligiao, sheet.fldValCinismo); end;
			if(sheet.fldChImprudencia == true) then table.insert(tbReligiao, sheet.fldValImprudencia); end;
			if(sheet.fldChIndulgencia == true) then table.insert(tbReligiao, sheet.fldValIndulgencia); end;
			if(sheet.fldChDesconfianca == true) then table.insert(tbReligiao, sheet.fldValDesconfianca); end;
			if(sheet.fldChCovardia == true) then table.insert(tbReligiao, sheet.fldValCovardia); end;
			
			-- SOMANDO VALORES DE TRAÇOS RELIGIOSOS
			for i = 1, #tbReligiao do
				a = a + tbReligiao[i];
			end;
			
			return a;
		end;
		
		function CalibrarVirtudes(a)	
			-- FORÇANDO VÍCIOS A SOMAREM UM TOTAL DE 20 COM A VIRTUDE PREENCHIDA
			if(a == "virtude") then
				sheet.fldValLuxuria = string.format("%02d",(20 - tonumber(sheet.fldValCastidade)));
				sheet.fldValPreguica = string.format("%02d",(20 - tonumber(sheet.fldValEnergia)));
				sheet.fldValVinganca = string.format("%02d",(20 - tonumber(sheet.fldValPerdao)));
				sheet.fldValEgoismo = string.format("%02d",(20 - tonumber(sheet.fldValGenerosidade)));
				sheet.fldValMalicia = string.format("%02d",(20 - tonumber(sheet.fldValHonestidade)));
				sheet.fldValArbitrariedade = string.format("%02d",(20 - tonumber(sheet.fldValJustica)));
				sheet.fldValCrueldade = string.format("%02d",(20 - tonumber(sheet.fldValMisericordia)));
				sheet.fldValOrgulho = string.format("%02d",(20 - tonumber(sheet.fldValModestia)));
				sheet.fldValCinismo = string.format("%02d",(20 - tonumber(sheet.fldValEspiritualidade)));
				sheet.fldValImprudencia = string.format("%02d",(20 - tonumber(sheet.fldValPrudencia)));
				sheet.fldValIndulgencia = string.format("%02d",(20 - tonumber(sheet.fldValTemperanca)));
				sheet.fldValDesconfianca = string.format("%02d",(20 - tonumber(sheet.fldValConfianca)));
				sheet.fldValCovardia = string.format("%02d",(20 - tonumber(sheet.fldValCoragem)));
				
			-- FORÇANDO VIRTUDES A SOMAREM UM TOTAL DE 20 COM O VÍCIO PREENCHIDO
			elseif(a == "vicio") then
				sheet.fldValCastidade = string.format("%02d",(20 - tonumber(sheet.fldValLuxuria)));
				sheet.fldValEnergia = string.format("%02d",(20 - tonumber(sheet.fldValPreguica)));
				sheet.fldValPerdao = string.format("%02d",(20 - tonumber(sheet.fldValVinganca)));
				sheet.fldValGenerosidade = string.format("%02d",(20 - tonumber(sheet.fldValEgoismo)));
				sheet.fldValHonestidade = string.format("%02d",(20 - tonumber(sheet.fldValMalicia)));
				sheet.fldValJustica = string.format("%02d",(20 - tonumber(sheet.fldValArbitrariedade)));
				sheet.fldValMisericordia = string.format("%02d",(20 - tonumber(sheet.fldValCrueldade)));
				sheet.fldValModestia = string.format("%02d",(20 - tonumber(sheet.fldValOrgulho)));
				sheet.fldValEspiritualidade = string.format("%02d",(20 - tonumber(sheet.fldValCinismo)));
				sheet.fldValPrudencia = string.format("%02d",(20 - tonumber(sheet.fldValImprudencia)));
				sheet.fldValTemperanca = string.format("%02d",(20 - tonumber(sheet.fldValIndulgencia)));
				sheet.fldValConfianca = string.format("%02d",(20 - tonumber(sheet.fldValDesconfianca)));
				sheet.fldValCoragem = string.format("%02d",(20 - tonumber(sheet.fldValCovardia)));
			end;
			
			-- FORMATANDO O TEXTO DOS TRAÇOS ACIMA DE 10
			self.namCastidade.visible = tonumber(sheet.fldValCastidade) < 11;
			self.namCastidadeB.visible = tonumber(sheet.fldValCastidade) > 10;
			self.namLuxuria.visible = tonumber(sheet.fldValLuxuria) < 11;
			self.namLuxuriaB.visible = tonumber(sheet.fldValLuxuria) > 10;
			self.namEnergia.visible = tonumber(sheet.fldValEnergia) < 11;
			self.namEnergiaB.visible = tonumber(sheet.fldValEnergia) > 10;
			self.namPreguica.visible = tonumber(sheet.fldValPreguica) < 11;
			self.namPreguicaB.visible = tonumber(sheet.fldValPreguica) > 10;
			self.namPerdao.visible = tonumber(sheet.fldValPerdao) < 11;
			self.namPerdaoB.visible = tonumber(sheet.fldValPerdao) > 10;
			self.namVinganca.visible = tonumber(sheet.fldValVinganca) < 11;
			self.namVingancaB.visible = tonumber(sheet.fldValVinganca) > 10;
			self.namGenerosidade.visible = tonumber(sheet.fldValGenerosidade) < 11;
			self.namGenerosidadeB.visible = tonumber(sheet.fldValGenerosidade) > 10;
			self.namEgoismo.visible = tonumber(sheet.fldValEgoismo) < 11;
			self.namEgoismoB.visible = tonumber(sheet.fldValEgoismo) > 10;
			self.namHonestidade.visible = tonumber(sheet.fldValHonestidade) < 11;
			self.namHonestidadeB.visible = tonumber(sheet.fldValHonestidade) > 10;
			self.namMalicia.visible = tonumber(sheet.fldValMalicia) < 11;
			self.namMaliciaB.visible = tonumber(sheet.fldValMalicia) > 10;
			self.namJustica.visible = tonumber(sheet.fldValJustica) < 11;
			self.namJusticaB.visible = tonumber(sheet.fldValJustica) > 10;
			self.namArbitrariedade.visible = tonumber(sheet.fldValArbitrariedade) < 11;
			self.namArbitrariedadeB.visible = tonumber(sheet.fldValArbitrariedade) > 10;
			self.namMisericordia.visible = tonumber(sheet.fldValMisericordia) < 11;
			self.namMisericordiaB.visible = tonumber(sheet.fldValMisericordia) > 10;
			self.namCrueldade.visible = tonumber(sheet.fldValCrueldade) < 11;
			self.namCrueldadeB.visible = tonumber(sheet.fldValCrueldade) > 10;
			self.namModestia.visible = tonumber(sheet.fldValModestia) < 11;
			self.namModestiaB.visible = tonumber(sheet.fldValModestia) > 10;
			self.namOrgulho.visible = tonumber(sheet.fldValOrgulho) < 11;
			self.namOrgulhoB.visible = tonumber(sheet.fldValOrgulho) > 10;
			self.namEspiritualidade.visible = tonumber(sheet.fldValEspiritualidade) < 11;
			self.namEspiritualidadeB.visible = tonumber(sheet.fldValEspiritualidade) > 10;
			self.namCinismo.visible = tonumber(sheet.fldValCinismo) < 11;
			self.namCinismoB.visible = tonumber(sheet.fldValCinismo) > 10;
			self.namPrudencia.visible = tonumber(sheet.fldValPrudencia) < 11;
			self.namPrudenciaB.visible = tonumber(sheet.fldValPrudencia) > 10;
			self.namImprudencia.visible = tonumber(sheet.fldValImprudencia) < 11;
			self.namImprudenciaB.visible = tonumber(sheet.fldValImprudencia) > 10;
			self.namTemperanca.visible = tonumber(sheet.fldValTemperanca) < 11;
			self.namTemperancaB.visible = tonumber(sheet.fldValTemperanca) > 10;
			self.namIndulgencia.visible = tonumber(sheet.fldValIndulgencia) < 11;
			self.namIndulgenciaB.visible = tonumber(sheet.fldValIndulgencia) > 10;
			self.namConfianca.visible = tonumber(sheet.fldValConfianca) < 11;
			self.namConfiancaB.visible = tonumber(sheet.fldValConfianca) > 10;
			self.namDesconfianca.visible = tonumber(sheet.fldValDesconfianca) < 11;
			self.namDesconfiancaB.visible = tonumber(sheet.fldValDesconfianca) > 10;
			self.namCoragem.visible = tonumber(sheet.fldValCoragem) < 11;
			self.namCoragemB.visible = tonumber(sheet.fldValCoragem) > 10;
			self.namCovardia.visible = tonumber(sheet.fldValCovardia) < 11;
			self.namCovardiaB.visible = tonumber(sheet.fldValCovardia) > 10;
		end;
		
		function ContabilizarPaixoes()
			if (sheet ~= nil) then
				-- INICIALIZANDO VARIÁVEIS
				local node = NDB.getRoot(sheet);
				local objetos = NDB.getChildNodes(node.fldPaixoes);
				local soma = 0;
				local flagSomaRom = 0;
				
				-- SOMANDO E CONTABILIZANDO PAIXÕES MAIORES DO QUE 15
				for i =1 , #objetos do 
					if(tonumber((objetos[i].valorPX) or 0) > 15) then
						soma = soma + (tonumber(objetos[i].valorPX) or 0);
						flagSomaRom = flagSomaRom + 1;
					end;
				end;
				
				-- ATRIBUINDO VALORES AO NDB
				node.countSum = soma;
				node.countRom = flagSomaRom;
				
				-- RECALCULANDO GLORIA
				CalcularGloriaAnual();
			end;
		end;
	]]>
	</script>

	<rectangle class="RBackground" padding="{top = 10}">
		<!-- TRAÇOS -->	
		<layout align="top"><label align="left" text="☙ TRAÇOS" width="115" fontStyle="bold" fontColor="#0080ff" fontFamily="Palatino Linotype" fontSize="20" /><layout align="left" width="535"><rectangle height="2" width="535" top="25" color="#0080ff" /></layout></layout>

		<!-- TEMPLATE VIRTUDES E VÍCIOS -->
		<template name="Virtude">
			<rectangle class="LConjuntoH" color="$(cor)">
				<layout align="left" width="139">
					<imageCheckBox field="fldCh$(virtude)" width="11" align="left" checkedImage="/images/cross-on.png" uncheckedImage="/images/$(imagem).png" margins="{right = 5}" hint="Traço Religioso" />
					<label field="$(virtude)" name="nam$(virtude)" class="NLabelG" align="none" top="7" left="16" />
					<label field="$(virtude)B" name="nam$(virtude)B" class="NLabel" align="none" top="7" left="16" />
					<dataLink fields="'$(virtude)', '$(virtude)B'" defaultValues="'$(virtudeAc)', '$(virtudeAc)'" />
				</layout>
				<layout align="left" width="89">
					<edit field="fldVal$(virtude)" class="GEditV" type="number" min="0" max="20" align="left" width="25" />
						<label text="/" class="NLabelG" width="8" />
					<edit field="fldVal$(vicio)" class="GEditV" type="number" min="0" max="20" align="left" width="25" />
				</layout>
				<layout align="left" width="422">
					<imageCheckBox field="fldCh$(vicio)" width="11" align="left" checkedImage="/images/cross-on.png" uncheckedImage="/images/$(imagem).png" margins="{right = 5}" hint="Traço Religioso" />
					<label field="$(vicio)" name="nam$(vicio)" class="NLabelG"  align="none" top="7" left="16" />
					<label field="$(vicio)B" name="nam$(vicio)B" class="NLabel"  align="none" top="7" left="16" />
					<dataLink fields="'$(vicio)', '$(vicio)B'" defaultValues="'$(vicioAc)', '$(vicioAc)'" />
					<edit class="GEdit" width="246" text="—" align="left" fontColor="#858585" margins="{left=120}" />
				</layout>
			</rectangle >
			<dataLink field="fldVal$(virtude)" defaultValue="10">
				<event name="onUserChange">
				<![CDATA[ 
					if (sheet == nil) then return; end;
					CalcularVirtude("virtude"); CalcularGloriaAnual(); 
				]]>	
				</event>
			</dataLink>
			<dataLink field="fldVal$(vicio)" defaultValue="10">
				<event name="onUserChange">
				<![CDATA[ 
					if (sheet == nil) then return; end;
					CalcularVirtude("vicio"); CalcularGloriaAnual();
				]]>	
				</event>
			</dataLink>
			<dataLink fields="{'fldCh$(virtude)', 'fldCh$(vicio)'}">
				<event name="onChange">
				<![CDATA[ 
					if (sheet == nil) then return; end;
					CalcularVirtude(); CalcularGloriaAnual(); 
				]]>
				</event>
			</dataLink>
		</template>
		
		<!-- LEGENDA DA TABELA -->
		<layout width="650" height="600" top="70">
			<rectangle class="LConjuntoH">
				<label align="left" width="228" text="VIRTUDES" fontStyle="bold" fontColor="#cdcdcd" fontFamily="Palatino Linotype" fontSize="14" />
				<label align="left" width="138" text="VÍCIOS" fontStyle="bold" fontColor="#cdcdcd" fontFamily="Palatino Linotype" fontSize="14" />			
				<label align="left" width="422" text="CUSTOMIZADOS" fontStyle="bold" fontColor="#cdcdcd" fontFamily="Palatino Linotype" fontSize="14" />
			</rectangle>
			
			<!-- VIRTUDES E VÍCIOS -->
			<Virtude virtude="Castidade" vicio="Luxuria" virtudeAc="Castidade" vicioAc="Luxúria" numero="01" cor="transparent" imagem="cross-offd" />
			<Virtude virtude="Energia" vicio="Preguica" virtudeAc="Energia ♞" vicioAc="Preguiça" numero="02" cor="#2E2E2E" imagem="cross-off" />
			<Virtude virtude="Perdao" vicio="Vinganca" virtudeAc="Perdão" vicioAc="Vingança" numero="03" cor="transparent" imagem="cross-offd" />
			<Virtude virtude="Generosidade" vicio="Egoismo" virtudeAc="Generosidade ♞" vicioAc="Egoísmo" numero="04" cor="#2E2E2E" imagem="cross-off" />
			<Virtude virtude="Honestidade" vicio="Malicia" virtudeAc="Honestidade" vicioAc="Malícia" numero="05" cor="transparent" imagem="cross-offd" />
			<Virtude virtude="Justica" vicio="Arbitrariedade" virtudeAc="Justiça ♞" vicioAc="Arbitrariedade" numero="06" cor="#2E2E2E" imagem="cross-off" />
			<Virtude virtude="Misericordia" vicio="Crueldade" virtudeAc="Misericórdia ♞" vicioAc="Crueldade" numero="07" cor="transparent" imagem="cross-offd" />
			<Virtude virtude="Modestia" vicio="Orgulho" virtudeAc="Modéstia ♞" vicioAc="Orgulho" numero="08" cor="#2E2E2E" imagem="cross-off" />
			<Virtude virtude="Espiritualidade" vicio="Cinismo" virtudeAc="Espiritualidade" vicioAc="Cinismo" numero="09" cor="transparent" imagem="cross-offd" />
			<Virtude virtude="Prudencia" vicio="Imprudencia" virtudeAc="Prudência" vicioAc="Imprudência" numero="10" cor="#2E2E2E" imagem="cross-off" />
			<Virtude virtude="Temperanca" vicio="Indulgencia" virtudeAc="Temperança" vicioAc="Indulgência" numero="11" cor="transparent" imagem="cross-offd" />
			<Virtude virtude="Confianca" vicio="Desconfianca" virtudeAc="Confiança" vicioAc="Desconfiança" numero="12" cor="#2E2E2E" imagem="cross-off" />
			<Virtude virtude="Coragem" vicio="Covardia" virtudeAc="Coragem ♞" vicioAc="Covardia" numero="13" cor="transparent" imagem="cross-offd" />
		</layout>
		
		<!-- TEMPLATE DE BÔNUS -->
		<layout align="top" margins="{left = 40, top = 455}" height="90">
		<template name="Bonus">
			<layout class="LConjunto">
				<label text="$(legenda)" class="NLabel" width="139" hitTest="true" hint="$(dica)" />
				<layout align="left" width="89">
					<label field="$(campo)" class="NLabelG" align="left" width="25" />
					<label text="/" class="NLabelG" width="10" />
					<label text="$(limite)" class="NLabel" align="left" width="25" />
				</layout>
				<label top="7" left="228" width="180" name="$(flag)" text="+100 GLÓRIA AO ANO" fontStyle="bold" fontColor="#cdcdcd" fontFamily="Palatino Linotype" fontSize="14" visible="false" />
			</layout>
		</template>
		
			<!-- BÔNUS DIVERSOS -->
			<Bonus legenda="Bônus Honrado:" dica="+3 de Armadura" campo="fldSomaHonra" limite="80" flag="flagHonra" />
			<Bonus legenda="Bônus Religioso:" dica="1 rerolagem por Aventura" campo="fldSomaReligiao" limite="80" flag="flagReli" />
			<Bonus legenda="Bônus Romântico:" dica="Bônus de Paixões dobrados" campo="fldSomaRomance" limite="04" flag="flagRom" />
			<dataLink fields="{'fldSomaHonra', 'fldSomaReligiao', 'fldSomaRomance'}" defaultValues="{'00', '00', '00'}" />
		</layout>
		
		<!-- PAIXÕES -->	
		<layout align="top" margins="{top=20}"><label align="left" text="☙ PAIXÕES" width="120" fontStyle="bold" fontColor="#0080ff" fontFamily="Palatino Linotype" fontSize="20" /><layout align="left" width="535"><rectangle height="2" width="530" top="25" color="#0080ff" /></layout></layout>
		
			<!-- LEGENDA DA TABELA -->
			<rectangle class="LConjuntoH">
				<label align="left" width="215" text="PAIXÃO" fontStyle="bold" fontColor="#cdcdcd" fontFamily="Palatino Linotype" fontSize="14" />
				<label align="left" width="80" text="VALOR" fontStyle="bold" fontColor="#cdcdcd" fontFamily="Palatino Linotype" fontSize="14" />			
				<label align="left" width="215" text="PAIXÃO" fontStyle="bold" fontColor="#cdcdcd" fontFamily="Palatino Linotype" fontSize="14" />
				<label align="left" width="80" text="VALOR" fontStyle="bold" fontColor="#cdcdcd" fontFamily="Palatino Linotype" fontSize="14" />	
			</rectangle>

		<layout align="top" margins="{left = 40}" height="600">
			<layout width="635" height="600">
				<layout align="left" width="635">
				
					<!-- LISTA DINÂMICA DE PAIXÕES -->
					<recordList width="635" minQt="4" layout="verticalTiles" name="rclPaixoes" field="fldPaixoes" templateForm="paixoes" autoHeight="true" onSelect="self.rclPaixoes:sort();">
						<event name="onCompare">
							return Utils.compareStringPtBr(nodeA.nomePX, nodeB.nomePX);
						</event>
						<event name="onSelect">
						<![CDATA[
							ContabilizarPaixoes();
						]]>
						</event>
					</recordList>
				</layout>
				<layout align="right" height="600"><button height="25" text="🞦" width="25" onClick="self.rclPaixoes:append();" hint="Nova Paixão" /></layout>
			</layout>
		</layout>
	</rectangle>
</form>